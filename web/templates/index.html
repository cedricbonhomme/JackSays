<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>SimonSays</title>

    <!-- Bootstrap Core CSS - Uses Bootswatch Flatly Theme: http://bootswatch.com/flatly/ -->
    <link href="../static/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../static/css/freelancer.css" rel="stylesheet">

    <!-- jQuery -->
    <script src="../static/js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../static/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="../static/js/classie.js"></script>
    <script src="../static/js/cbpAnimatedHeader.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="../static/js/freelancer.js"></script>

    <!-- JQuery cookies -->
    <script src="../static/js/jquery.cookie.js"></script>

    <!-- swipe -->
    <script src="../static/js/jquery.touchSwipe.js"></script>

    <style>
        .thumbnail {
            border: 0 none;
            box-shadow: none;
        }
    </style>
</head>

<body id="page-top" class="index">

<!-- Navigation -->
<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#page-top">SimonSays</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li class="hidden">
                    <a href="#page-top"></a>
                </li>
                <li class="page-scroll">
                    <a href="#customize">Customize Avatar</a>
                </li>
                <li class="page-scroll">
                    <a href="#about">About</a>
                </li>
                <li class="page-scroll">
                    <a href="#contact">Contact</a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
</nav>

<header id="whatNext">
    <div class="container">
        <form action="login" method="POST" id="formLogin">
            {{ form.hidden_tag() }}
            <div class="row">
                <div class="col-xs-1 col-sm-1 col-md-3"></div>
                <div class="col-xs-5 col-sm-4 col-md-3">
                    <button id="forgetMe" type="button" class="btn btn-primary">Forget Me</button>
                </div>
                <div class="col-xs-6 col-sm-7 col-md-3" >
                    <button id="buttBack" type="button" class="btn btn-primary ">Play now </button>
                </div>
            </div>
            <div class="row">
                <!-- known person -->
                <div class="col-lg-12" id="knownPerson">
                    <!-- is male -->
                    <div style="margin-top: 20px;margin-bottom: 20px">
                        <div class="row">
                            <div class="col-sm-3 col-md-4 col-xs-3"></div>
                            <div class="col-sm-6 col-md-4 col-xs-6" id="divMaleTop">
                                <img id="divKnownTop" class="img-responsive" src="" alt="" style="margin-bottom: 0" >
                            </div>
                            <div class="col-sm-3 col-md-4 col-xs-3"></div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3 col-md-4 col-xs-3"></div>
                            <div class="col-sm-6 col-md-4 col-xs-6" id="divMaleMiddle" style="vertical-align: bottom">
                                <img id="divKnownMiddle" class="img-responsive" src="" alt="" style="margin-bottom: 0" >
                            </div>
                            <div class="col-sm-3 col-md-4 col-xs-3"></div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3 col-md-4 col-xs-3"></div>
                            <div class="col-sm-6 col-md-4 col-xs-6" id="divMaleBottom">
                                <img id="divKnownBottom" class="img-responsive" src="" alt="" style="margin-bottom: 0">
                            </div>
                            <div class="col-sm-6 col-md-4 col-xs-3"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="intro-text">
                            <span id="playerName" class="name"></span>
                        </div>
                    </div>
                </div>

                <div class="col-lg-12" id="bestPerson">
                    <div style="margin-top: 20px;margin-bottom: 20px">
                        <div class="row">
                            <div class="col-sm-3 col-md-4 col-xs-3"></div>
                            <div class="col-sm-6 col-md-4 col-xs-6" id="divMaleTop">
                                <img id="bestPersonTop" class="img-responsive" src="" alt="" style="margin-bottom: 0" >
                            </div>
                            <div class="col-sm-3 col-md-4 col-xs-3"></div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3 col-md-4 col-xs-3"></div>
                            <div class="col-sm-6 col-md-4 col-xs-6" id="divMaleMiddle" style="vertical-align: bottom">
                                <img id="bestPersonMiddle" class="img-responsive" src="" alt="" style="margin-bottom: 0" >
                            </div>
                            <div class="col-sm-3 col-md-4 col-xs-3"></div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3 col-md-4 col-xs-3"></div>
                            <div class="col-sm-6 col-md-4 col-xs-6" id="divMaleBottom">
                                <img id="bestPersonBottom" class="img-responsive" src="" alt="" style="margin-bottom: 0">
                            </div>
                            <div class="col-sm-6 col-md-4 col-xs-3"></div>
                        </div>

                        <div class="intro-text">
                            <span class="name">Best Score</span>
                            <span id="bestScore" class="skills"></span>
                        </div>
                    </div>
                </div>


                <!-- anonymous -->
                <div class="col-lg-12" id="anonymousAvatar">
                    <img class="img-responsive" src="../static/img/profile.png" alt="">

                </div>



            </div>
        </form>
    </div>
</header>

<section id="customize">
    <div class="row">
        <div class="col-sm-12 col-md-4">
            <div class="thumbnail">
                <img src="../static/img/avatar/female.png" alt="">
                <div class="caption" style="text-align: center">
                    <h3>Women</h3>
                    <p>It's always nice to play with women</p>
                    <p><a onclick="customize('female')" class="btn btn-primary" role="button">Let's Go</a></p>
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-md-4">
            <div class="thumbnail">
                <img src="../static/img/avatar/male.png" alt="">
                <div class="caption" style="text-align: center">
                    <h3>Men</h3>
                    <p>But better with a man !!</p>
                    <p><a onclick="customize('male')" id="customMen" class="btn btn-primary" role="button">Let's Go</a></p>
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-md-4">
            <div class="thumbnail">
                <img src="../static/img/avatar/robot.png" alt="">
                <div class="caption" style="text-align: center">
                    <h3>Robot</h3>
                    <p>What about machines !!</p>
                    <p><a onclick="customize('robot')" class="btn btn-primary" role="button">Let's Go</a></p>
                </div>
            </div>
        </div>
        <p style="margin-bottom: 150px">...</p>
    </div>
</section>


<script>
    $( document ).ready(function() {
        var nic = $.cookie('nic');
        var type = $.cookie('choice');
        var topImage = $.cookie('topImage');
        var middleImage = $.cookie('middleImage');
        var buttonImage = $.cookie('buttonImage');


        $("#anonymousAvatar").hide();
        $("#knownPerson").hide();
        $("#bestPerson").hide();
        $("#divfemale").hide();
        $("#divmale").hide();

        if (nic){
            $("#playerName").text(nic);
            $("#knownPerson").show();
            //load images
            $("#divKnownTop").attr('src',topImage);
            $("#divKnownMiddle").attr('src',middleImage);
            $("#divKnownBottom").attr('src',buttonImage);
        }else {
            readBestScore();
        }

        $("#forgetMe").click(function(){
            $.removeCookie('nic');
            window.location.replace("/");
        });

    });

    function readBestScore(){
        $.getJSON( "/api/v1/scores", function( data ) {
            var items = [];
            $.each( data, function( key, val ) {
                var avatar = val.avatar;
                var nic = val.nic;
                var score = val.score;
                if (avatar){
                    $("#bestScore").text(nic+"("+score+")");
                    var imgTop,imgMiddle,imgBottom;
                    switch(avatar.charAt(0)){
                        case "f":imgTop = "ft";imgMiddle="fm";imgBottom="fb";break;
                        case "m":imgTop = "mt";imgMiddle="mm";imgBottom="mb";break;
                        case "r":imgTop = "rt";imgMiddle="rm";imgBottom="rb";break;
                    }
                    switch (avatar.charAt(1)){
                        case "1":imgTop = imgTop + "1.png";break;
                        case "2":imgTop = imgTop + "2.png";break;
                        case "3":imgTop = imgTop + "3.png";break;
                    }
                    switch (avatar.charAt(2)){
                        case "1":imgMiddle = imgMiddle + "1.png";break;
                        case "2":imgMiddle = imgMiddle + "2.png";break;
                        case "3":imgMiddle = imgMiddle + "3.png";break;
                    }
                    switch (avatar.charAt(3)){
                        case "1":imgBottom = imgBottom + "1.png";break;
                        case "2":imgBottom = imgBottom + "2.png";break;
                        case "3":imgBottom = imgBottom + "3.png";break;
                    }

                    imgTop  = "../static/img/avatar/custom/" + imgTop;
                    imgMiddle = "../static/img/avatar/custom/" + imgMiddle;
                    imgBottom = "../static/img/avatar/custom/" + imgBottom;

                    $("#bestPerson").show();
                    $("#bestPersonTop").attr('src',imgTop);
                    $("#bestPersonMiddle").attr('src',imgMiddle);
                    $("#bestPersonBottom").attr('src',imgBottom);

                }else{
                    $("#anonymousAvatar").show();
                }
            });
        });
    }


    function customize(choice){
        $.cookie('choice', choice);
        window.location.href = "customize";
    }
</script>

<!-- jQuery -->
<script src="../static/js/jquery.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="../static/js/bootstrap.min.js"></script>

<!-- Plugin JavaScript -->
<script src="../static/js/classie.js"></script>
<script src="../static/js/cbpAnimatedHeader.js"></script>

<!-- Custom Theme JavaScript -->
<script src="../static/js/freelancer.js"></script>

<!-- JQuery cookies -->
<script src="../static/js/jquery.cookie.js"></script>

</body>

</html>
