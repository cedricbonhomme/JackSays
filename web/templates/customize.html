<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Freelancer - Start Bootstrap Theme</title>

    <!-- Bootstrap Core CSS - Uses Bootswatch Flatly Theme: http://bootswatch.com/flatly/ -->
    <link href="../static/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../static/css/freelancer.css" rel="stylesheet">

    <!-- jQuery -->
    <script src="../static/js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../static/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="../static/js/classie.js"></script>
    <script src="../static/js/cbpAnimatedHeader.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="../static/js/freelancer.js"></script>

    <!-- JQuery cookies -->
    <script src="../static/js/jquery.cookie.js"></script>

    <!-- swipe -->
    <script src="../static/js/jquery.touchSwipe.js"></script>


</head>
<body id="page-top" class="index">

<!-- Navigation -->
<nav class="navbar navbar-default ">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#page-top">Start Bootstrap</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li class="hidden">
                    <a href="#page-top"></a>
                </li>
                <li class="page-scroll">
                    <a href="#portfolio">Start</a>
                </li>
                <li class="page-scroll">
                    <a href="#about">About</a>
                </li>
                <li class="page-scroll">
                    <a href="#contact">Contact</a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
</nav>

<div class="container">
    <div class="row">
    <div class="col-md-4 col-sm-2"></div>
    <div class="col-md-4 col-sm-8">
        <form action="login" method="POST" id="formLogin">
            {{ form.hidden_tag() }}
            <input id="nickName"  name="login" style="text-align: center" type="text"
                   class="form-control btn-outline" placeholder="Nickname ...">
        </form>
    </div><!-- /.col-lg-6 -->
    <div class="col-md-4 col-sm-2"></div>
</div><!-- /.row -->

<!-- empty div -->

<div id="female">

</div>

<div id="male" style="margin-top: 20px;margin-bottom: 20px">
    <div class="row">
        <div class="col-md-4 col-xs-3" style="text-align: right;margin-top: 3%">
            <img src="../static/img/avatar/arrow_left.gif" onclick="updateTop(-1)" alt="" width="32px" height="32px">
        </div>
        <div class="col-md-4 col-xs-6" id="divMaleTop">
            <img id="maleTop" class="img-responsive" src="../static/img/avatar/custom/mtop0.png" alt="" style="margin-bottom: 0">
        </div>
        <div class="col-md-4 col-xs-1" style="text-align: left;margin-top: 3%">
            <img src="../static/img/avatar/arrow_right.gif" onclick="updateTop(1)" alt="" width="32px" height="32px">
        </div>
    </div>
    <div class="row">
        <div class="col-md-4 col-xs-3" style="text-align: right;margin-top: 1%">
            <img src="../static/img/avatar/arrow_left.gif" onclick="updateMiddle(-1)" alt="" width="32px" height="32px">
        </div>
        <div class="col-md-4 col-xs-6" id="divMaleMiddle" style="vertical-align: bottom">
            <img id="maleMiddle" class="img-responsive" src="../static/img/avatar/custom/mmiddle0.png" alt="" style="margin-bottom: 0">
        </div>
        <div class="col-md-4 col-xs-1" style="text-align: left;margin-top: 1%">
            <img src="../static/img/avatar/arrow_right.gif" onclick="updateMiddle(1)" alt="" width="32px" height="32px">
        </div>
    </div>
    <div class="row">
        <div class="col-md-4 col-xs-3" style="text-align: right;margin-top: 4%">
            <img src="../static/img/avatar/arrow_left.gif" onclick="updateBottom(-1)" alt="" width="32px" height="32px">
        </div>
        <div class="col-md-4 col-xs-6" id="divMaleBottom">
            <img id="maleBottom" class="img-responsive" src="../static/img/avatar/custom/mbottom0.png" alt="" style="margin-bottom: 0">
        </div>
        <div class="col-md-4 col-xs-1" style="text-align: left;margin-top: 4%">
            <img src="../static/img/avatar/arrow_right.gif" onclick="updateBottom(1)" alt="" width="32px" height="32px">
        </div>
    </div>
</div>

<div id="robot">

</div>

<div class="row">
    <div class="col-xs-1 col-sm-2 col-md-3"></div>
    <div class="col-xs-4 col-sm-3 col-md-2">
        <button id="buttBack" type="button" class="btn btn-outline btn-block">Back</button>
    </div>
    <div class="col-xs-2 col-sm-2 col-md-2"></div>
    <div class="col-xs-4 col-sm-3 col-md-2">
        <button id="buttStart" form="formLogin" type="submit" name="submit" value="Log In" class="btn btn-outline btn-block">Start</button>
    </div>
</div>

</div><!-- end container -->


<script>
    var type;
    var head;
    var middle;
    var bottom;
    
    
    $( document ).ready(function() {
        $("#female").hide();
        $("#male").hide();
        $("#robot").hide();

        var toShow = "#" + $.cookie('choice');
        $(toShow).show();
        head = 1;
        middle = 1;
        bottom = 1;
        type = $.cookie('choice');

        $.cookie('topImage',"../static/img/avatar/custom/"+type.charAt(0)+"top0.png");
        $.cookie('middleImage',"../static/img/avatar/custom/"+type.charAt(0)+"middle0.png");
        $.cookie('buttonImage',"../static/img/avatar/custom/"+type.charAt(0)+"bottom0.png");

        //swipe events
        $("#divFemaleTop").swipe({
            swipe:function(event, direction, distance, duration, fingerCount) {
                if (direction == "left") {updateTop(1);} else if (direction == "right"){updateTop(-1);}
            }
        });
        $("#divFemaleMiddle").swipe({
            swipe:function(event, direction, distance, duration, fingerCount) {
                if (direction == "left") {updateMiddle(1);} else if (direction == "right"){updateMiddle(-1);}
            }
        });
        $("#divFemaleBottom").swipe({
            swipe:function(event, direction, distance, duration, fingerCount) {
                if (direction == "left") {updateBottom(1);} else if (direction == "right"){updateBottom(-1);}
            }
        });
        $("#divMaleTop").swipe({
            swipe:function(event, direction, distance, duration, fingerCount) {
                if (direction == "left") {updateTop(1);} else if (direction == "right"){updateTop(-1);}
            }
        });
        $("#divMaleMiddle").swipe({
            swipe:function(event, direction, distance, duration, fingerCount) {
                if (direction == "left") {updateMiddle(1);} else if (direction == "right"){updateMiddle(-1);}
            }
        });
        $("#divMaleBottom").swipe({
            swipe:function(event, direction, distance, duration, fingerCount) {
                if (direction == "left") {updateBottom(1);} else if (direction == "right"){updateBottom(-1);}
            }
        });

        //buttons
        $("#buttBack").click(function (){
            window.location.href = "avatar";
        });
        $("#buttStart").click(function (){
            $.cookie('nic',$("#nickName").val());
        });

    });
    
    function updateTop(val){
        if ( (head==1 && val==-1 ) || (head==3 && val == 1) ) return;

        var newHead = head + val;
        var img = "../static/img/avatar/custom/"+ type.charAt(0)+'t-'+ head +"-" +newHead + ".gif";
        var id = "#" + type+"Top";
        $(id).attr('src',img);

        head= newHead;
        $.cookie('topImage',img);
    }

    function updateMiddle(val){
        if ( (middle==1 && val==-1 ) || (middle==3 && val == 1) ) return;

        var newMiddle = middle + val;
        var img = "../static/img/avatar/custom/"+ type.charAt(0)+'m-'+ middle +"-" +newMiddle + ".gif";
        var id = "#" + type+"Middle";
        $(id).attr('src',img);

        middle = newMiddle;
        $.cookie('middleImage',img);
    }

    function updateBottom(val){
        if ( (bottom==1 && val==-1 ) || (bottom==3 && val == 1) ) return;

        var newBottom = bottom + val;
        var img = "../static/img/avatar/custom/"+ type.charAt(0)+'b-'+ bottom +"-" +newBottom + ".gif";
        var id = "#" + type+"Bottom";
        $(id).attr('src',img);

        bottom = newBottom;
        $.cookie('buttonImage',img);
    }
</script>


</body>

</html>
